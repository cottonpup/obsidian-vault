---
Created: 2023-10-19
tags:
  - CORS
---

# CORS란?
- 다른 도메인에서의 리소스를 안전하게 접근할 수 있게 해주는 보안 메커니즘
- CORS는 서버 측에서 설정, HTTP 헤더를 사용해 클라이언트에게 어떤 리소스에 접근할 수 있는 지 알려줌

CORS는 'Cross-Origin Resource Sharing'의 약자로, 다른 도메인에서의 리소스를 안전하게 접근할 수 있게 해주는 웹 보안 메커니즘입니다. CORS는 서버 측에서 설정되며, HTTP 헤더를 사용해 클라이언트에게 어떤 도메인, 메서드, 헤더가 리소스에 접근할 수 있는지 알려줍니다.
## origin 을 구분하는 기준은?
- 프로토콜, 도메인 이름, 포트번호의 조합

Origin을 구분하는 기준은 웹 페이지의 URL에서 프로토콜(예: http, https), 도메인 이름(예: example.com), 그리고 포트 번호(예: 80, 443)의 조합입니다. 이 세 가지 요소가 모두 같아야 같은 출처(origin)로 간주됩니다.
## SOP를 하지 않을 때 발생할 수 있는 문제점에는 무엇이 있나? (CSRF, XSS))


SOP(Same-Origin Policy)가 없으면 여러 보안 문제가 생길 수 있어요. 예를 들어, CSRF와 XSS 같은 위협이 있습니다. CSRF는 악의적인 웹사이트의 링크를 통해 발생하며, 사용자가 다른 사이트에 로그인한 상태에서 이 링크를 클릭하면 개인 정보가 노출될 위험이 있습니다. 반면에 XSS는 악의적인 스크립트가 웹 페이지에 삽입되어 실행될 수 있어요. 이렇게 삽입된 스크립트는 사용자 데이터를 훔치거나, 다른 사이트로 사용자를 리다이렉트 시키거나, 심지어 악성 코드를 실행할 수도 있습니다.
## CORS를 사용하는 요청은?
AJAX 요청, 웹 폰트 로딩, 다른 도메인의 API 호출 같은 상황에서 사용됩니다.
## 단순요청과 preflight 요청의 차이점이란?
- 단순요청
	- 

단순 요청은 주로 `GET`, `POST`, `HEAD` 메서드를 사용하며, 복잡한 헤더나 데이터를 포함하지 않아요. 이 경우, 브라우저는 서버에 바로 요청을 보냅니다. 반면, 사전 요청은 정보를 업데이트 하거나 삭제할 때, 브라우저가 실제 요청 전에 `OPTIONS` 메서드로 사전 확인을 하게 됩니다. 이는 보안을 강화하기 위한 메커니즘이에요.
## cookie를 보내기 위해서는 withCredentials와 헤더(access-control-?)를 어떻게 설정 해야하나?
쿠키를 보내기 위해서는 클라이언트와 서버 양쪽에서 설정을 해야 해요. 클라이언트 측에서 `withCredentials`을 `true`로 설정해서 요청을 보내면 됩니다. 이렇게 하면 브라우저가 쿠키를 포함해서 요청을 보내줘요. 서버 측에서는 `Access-Control-Allow-Credentials` 헤더를 `true`로 설정해야 하고, `Access-Control-Allow-Origin`에 클라이언트 오리진을 적어줘야 합니다. 이렇게 둘 다 설정해주면 쿠키가 제대로 전송됩니다.
## 프로젝트에서 CORS에러를 겪은 경험이 있나?
네, 공공 API를 사용할 때 CORS 에러를 경험한 적이 있습니다. 해결하기 위해 `proxy` 설정을 하거나, 서버 측에서 적절한 CORS 헤더를 설정해야 했습니다. 제 경우에는 `proxy` 설정을 통해 문제를 해결했습니다.
## CORS 정책은 웹 보안에 어떻게 기여하는가?
CORS는 서버가 어떤 출처(origin)에서 들어오는 요청을 처리할 것인지 명시적으로 허용하거나 거부할 수 있게 해줍니다. 이를 통해 다양한 보안문제를 막을 수 있습니다.
## 서버의 도움없이 프론트에서 해결할 수 있는 방법에는 무엇이 있나?
Proxy 설정으로 프론트에서 해결 할 수 있는 방법이 있는 걸로 알고 있습니다. 그러나, 보안의 문제가 발생할 수 있다고 들었습니다. 